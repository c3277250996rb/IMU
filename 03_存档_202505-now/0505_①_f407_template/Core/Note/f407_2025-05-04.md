é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®é‡‘ç±³å¦®

# â‘ . å®å®šä¹‰çš„ä¸œè¥¿åœ¨ `if` æ‹¬å·é‡Œç”¨å, ç¼–è¯‘æŠ¥é”™

`my_fatfs.h` ğŸ‘‡

```c
#define MAP_FLASH_ReadID()   SPI_FLASH_ReadID()
#define MAP_FLASH_Init()     SPI_FLASH_Init()   
#define MAP_FLASH_WakeUp()   SPI_Flash_WAKEUP() 
#define MAP_FLASH_BufferRead(pBuffer, ReadAddr, NumByteToRead)   SPI_FLASH_BufferRead(pBuffer, ReadAddr, NumByteToRead) 
#define MAP_FLASH_SectorErase(SectorAddr)    SPI_FLASH_SectorErase(SectorAddr) 
#define MAP_FLASH_BufferWrite(pBuffer, WriteAddr, NumByteToWrite)    SPI_FLASH_BufferWrite(pBuffer, WriteAddr, NumByteToWrite) 
```

`my_fatfs.c` ğŸ‘‡

```c
DSTATUS FLASH_Disk_Status(BYTE input_Device){
    DSTATUS status = STA_NOINIT;

    if(sFLASH_ID == MAP_FLASH_ReadID()){
        /* è®¾å¤‡IDè¯»å–ç»“æœæ­£ç¡® */
        status &= ~STA_NOINIT;
    }else{
        /* è®¾å¤‡IDè¯»å–ç»“æœé”™è¯¯ */
        status = STA_NOINIT;
    }

    return status;
}
```

`ç¼–è¯‘æŠ¥é”™` ğŸ‘‡

```
compiling my_fatfs.c...
..\Core\Code\System\fatfs\my_fatfs.c(13): error:  #29: expected an expression
          if(
FLASH_ID == 
AP_FLASH_ReadID()){
```

### âœ…è§£é‡Š: ä¸è¦åœ¨å®é‡ŒåŠ  `{}`ï¼Œç›´æ¥å†™è¡¨è¾¾å¼æˆ–è€…å‡½æ•°è°ƒç”¨

ä¿®æ”¹å¦‚ä¸‹ï¼š

```c
#define MAP_FLASH_ReadID()              SPI_FLASH_ReadID()
#define MAP_FLASH_Init()                SPI_FLASH_Init()
#define MAP_FLASH_WakeUp()              SPI_Flash_WAKEUP()
#define MAP_FLASH_BufferRead(p, a, n)   SPI_FLASH_BufferRead(p, a, n)
#define MAP_FLASH_SectorErase(a)        SPI_FLASH_SectorErase(a)
#define MAP_FLASH_BufferWrite(p, a, n)  SPI_FLASH_BufferWrite(p, a, n)
```

